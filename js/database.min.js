function eachPage(){return localStorage.epage||(localStorage.epage=30),parseInt(localStorage.epage)}function totalPages(){return parseInt(catDB.data.length/eachPage())<catDB.data.length/eachPage()?parseInt(catDB.data.length/eachPage())+1:parseInt(catDB.data.length/eachPage())}function writeInfo(){function e(e,a){let t="";for(let i=0;i<catDB.info[0][e+"_op"][a].length;i++)t+=`<x data-value="${catDB.info[0][e+"_op"][a][i]}">${catDB.info[0][e+"_op"][a][i]}</x>`;return`<filter class="flex flex-column gap g05 ${e+a}"><fname>${catDB.info[0][e][a]}</fname><ftags class="flex flex-center-h flex-wrap gap g05">${t}</ftags></filter>`}document.getElementById("cName").innerText=catDB.info[0].cname,document.title=catDB.info[0].cname,document.getElementById("cUpdated").innerText="Updated on "+catDB.info[0].date;let a="";for(let t=0;t<catDB.info[0].tags.length;t++)a+=e("tags",t);filters.innerHTML=filters.innerHTML+a}function writeOptions(){let e="";for(let a=1;a<totalPages()+1;a++)e+=`<option value="${a}">${a}</option>`;pagi.children[2].innerHTML=e}function writeItem(e,a,t,i,n){let l="";for(let e=0;e<i.length;e++)l+=`<span>${i[e]}</span>`;return`<item class="flex flex-center-v gap g10" data-rank="${n}" data-post="${t}"><a href="${a}" target="_blank" class="flex flex-center-h flex-center-v wiki"><i class="fa fa-info"></i></a><ione class="flex flex-column flex-reverse flex-center-v gap g05"><iname>${e}</iname><itags class="flex gap g05">${l}</itags></ione></item>`}function writePage(e){e=parseInt(e);let a="",t=e*eachPage()-eachPage(),i=e*eachPage();i>catDB.data.length&&(i=catDB.data.length);for(let e=t;e<i;e++)a+=writeItem(catDB.data[e].name,catDB.data[e].wiki,catDB.data[e].post,catDB.data[e].tags,catDB.data[e].rank);secList.innerHTML=a,currentPage=e,pagi.children[2].value=e,1===e?(pagi.children[0].classList.add("disabled"),pagi.children[1].classList.add("disabled")):(pagi.children[0].classList.remove("disabled"),pagi.children[1].classList.remove("disabled")),e===totalPages()?(pagi.children[3].classList.add("disabled"),pagi.children[4].classList.add("disabled")):(pagi.children[3].classList.remove("disabled"),pagi.children[4].classList.remove("disabled")),totalPages()<=1?pagi.classList.add("hidden"):pagi.classList.remove("hidden"),totalPages()<1?secBlank.classList.remove("hidden"):secBlank.classList.add("hidden")}let catDB=JSON.parse(inDB()),currentPage=1,pagi=document.querySelector("section.list pages"),filters=document.querySelector("section.filter filters"),secList=document.querySelector("section.list list"),secBlank=document.querySelector("section.list blank");writeInfo(),writeOptions(),writePage(1),pagi.children[0].addEventListener("click",function(){pagi.children[0].classList.contains("disabled")||writePage(1)}),pagi.children[1].addEventListener("click",function(){pagi.children[1].classList.contains("disabled")||writePage(currentPage-1)}),pagi.children[3].addEventListener("click",function(){pagi.children[3].classList.contains("disabled")||writePage(currentPage+1)}),pagi.children[4].addEventListener("click",function(){pagi.children[4].classList.contains("disabled")||writePage(totalPages())}),pagi.children[2].addEventListener("change",function(){writePage(pagi.children[2].value)});