function checkText(){""===search[0].value?search[0].parentNode.classList.remove("active"):search[0].parentNode.classList.add("active")}function fixQuery(e){let c=e;for(let e=0;e<20;e++){for(let e=0;e<badChar.length;e++)c=c.replace(badChar[e],"");c=c.replace(/Ã©/g,"e"),c=c.replace(/&/g,"and"),c=c.replace(/\s{2}/g," "),c=c.replace(/\s$/g,""),c=c.replace(/^\s/g,"")}return c}function clickSearch(){window.query=fixQuery(search[0].value),doSearch()}const search=document.querySelectorAll("section.search form input"),form=document.querySelector("section.search form");window.query="",search[0].addEventListener("input",function(){checkText(),clickSearch()}),search[1].addEventListener("click",function(){search[0].value="",checkText(),clickSearch()}),form.addEventListener("submit",function(e){e.preventDefault(),clickSearch()});