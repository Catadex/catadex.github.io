function setDefault(e,t){localStorage.getItem(e)||localStorage.setItem(e,t)}function encodeDisshit(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function decodeDisshit(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function addScript(e,t){let a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",e),t?document.head.appendChild(a):document.body.appendChild(a)}function addStyle(e){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t)}function inScript(e,t,a){let o=document.createElement("script");o.setAttribute("type","text/javascript"),t&&(o.id=t),o.innerHTML=e,a?document.head.appendChild(o):document.body.appendChild(o)}function inStyle(e,t){let a=document.createElement("style");a.setAttribute("type","text/css"),t&&(a.id=t),a.innerHTML=e,document.head.appendChild(a)}function appendectomy(){let e=document.querySelectorAll("script[src*='appendix'],[appendix]");for(let t=0;t<e.length;t++)e[t].remove()}function clearLoad(){localStorage.clear()}function localGet(e){return localStorage.getItem(e)||(clearLoad(),window.location.reload()),decodeURIComponent(localStorage.getItem(e))}async function fetchThis(e){let t=await fetch(e),a=await t.text();return a}function leadEvent(e){let t=new CustomEvent("keyEvent",{detail:e});document.dispatchEvent(t)}function forward(){pakoHere&&forageHere&&verHere&&domHere&&addScript("appendix/"+pathway()+datever,!0)}function pathway(){return"load"===path||!localStorage.version||parseFloat(localStorage.version)<version?(clearLoad(),"path_load.min.js"):verHere&&parseFloat(localStorage.getItem("dataver_"+xNAME))<dataver?"path_prep.min.js":"index"===path||"prep"===path?"path_404.min.js":xPath&&verHere?"path_index.min.js":""===path?"path_home.min.js":localStorage.getItem("fable_"+path)?"path_"+path+".min.js":"path_404.min.js"}const version=20240223081042,datever="?"+version.toString(),path=window.location.pathname.replace(/\//g,"");let skip=!1,pakoHere=!1,forageHere=!1,verHere=!1,domHere=!1,dataver="";const sQuery=window.location.search;let xSource="",xChannel="",xJSON="",xJS="",xNAME="",xPath=!1;""!==sQuery?(xSource=decodeDisshit(sQuery.replace(/\?(.*)&.*/,"$1")),xChannel=decodeDisshit(sQuery.replace(/\?.*&(.*)/,"$1")),xSource.match(/\//)?(xJSON="https://"+xSource+".json",xJS=xJSON.replace(/json$/,"js"),xNAME=xJSON.replace(/.*\/([^\/]+)$/,"$1").replace(/\.json$/,"")+"_ex"):(xJSON=window.location.origin+"/data/"+xSource+".json",xJS=xJSON.replace(/json$/,"js"),xNAME=xSource+"_in"),xPath=!0):(xJSON=window.location.origin+"/data/null.json",xJS=xJSON.replace(/json$/,"js"),xNAME=xJSON.replace(/.*\/([^/]+)$/,"$1").replace(/\.json$/,"")),setDefault("dataver_"+xNAME,"0"),document.addEventListener("keyEvent",function(e){"pako"===e.detail&&(pakoHere=!0),"forage"===e.detail&&(forageHere=!0),isNaN(parseInt(e.detail))||(verHere=!0,dataver=parseFloat(e.detail)),forward()}),addScript(xJS,!0),pathway().match(/_load\./)?(addScript("lib/pakoinflate.min.js",!0),addScript("lib/localforage.min.js",!0)):(inScript(localGet("localforageLIB"),"localforageLIB",!0),inScript(localGet("pakoinflateLIB"),"pakoinflateLIB",!0)),pathway().match(/_load\./)||(inStyle(localGet("fontasmCSS"),"fontasmCSS"),inStyle(localGet("alltherollCSS"),"alltherollCSS"),inStyle(localGet("cascadiacodeCSS"),"cascadiacodeCSS"),inStyle(localGet("radiocanadaCSS"),"radiocanadaCSS"),inStyle(localGet("styleCSS"),"styleCSS")),document.addEventListener("DOMContentLoaded",function(){domHere=!0,forward()});